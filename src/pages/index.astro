---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';

const campaigns = [
  {
    id: 'acroterra',
    title: 'Acroterra',
    schedule: 'Mondays • 6:30 PM CST • Online',
    blurb:
      'Homebrew epic across dragon-ruled provinces. Exploration, politics, and high-stakes heroics.',
  },
  {
    id: 'drakkenheim',
    title: 'Dungeons of Drakkenheim',
    schedule: 'Wednesdays (biweekly) • 4:30 PM CST • In Person',
    blurb:
      'Delve into a ruined city choked with haze and horrors. Factions clash and every foray changes the map.',
  },
];
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root{
        --ink:#ffffff;
        --muted:#dbe4ff;
        --accent:#a7e0ff;
        --panel: rgba(255,255,255,.08);
        --edge: rgba(255,255,255,.18);
        --shadow: 0 10px 30px rgba(0,0,0,.35);
        --backdrop: blur(8px);
      }

      html,body{height:100%}
      body{
        margin:0;
        color:var(--ink);
        font:16px/1.6 ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
        background: #0b0f1a url('/Mountains.png') center/cover no-repeat fixed;
      }

      .bg-overlay{
        position: fixed; inset: 0;
        background:
          radial-gradient(1200px 600px at 70% 10%, rgba(0,0,0,.25), transparent 60%),
          linear-gradient(to bottom, rgba(5,10,20,.45), rgba(5,10,20,.7));
        pointer-events:none; z-index:0;
      }

      .wrap{ position:relative; z-index:1; display:flex; min-height:100dvh; flex-direction:column; }
      main{ flex:1 1 auto; }
      .container{ width:min(1200px,92%); margin-inline:auto; }

      .hero{ padding: clamp(56px, 8vw, 96px) 0 24px; text-align:center; }
      .title{
        margin:0 0 8px;
        font-size: clamp(28px, 5vw, 56px);
        line-height:1.1;
        letter-spacing:.5px;
        text-shadow: 0 2px 18px rgba(0,0,0,.45);
      }
      .tagline{
        margin:0 auto; max-width:60ch;
        color:var(--muted);
        font-size: clamp(16px, 2.2vw, 20px);
        text-shadow: 0 1px 12px rgba(0,0,0,.35);
      }

      .section-head{
        display:flex; align-items:end; justify-content:space-between; gap:16px;
        margin:32px 0 14px;
      }
      .section-head h2{ margin:0; font-size: clamp(20px, 2.8vw, 28px); letter-spacing:.4px; }
      .section-head .hint{ margin:0; color:var(--muted); font-size:14px; }

      .grid{
        display:grid; gap:18px;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }
      .card{
        background:var(--panel);
        border:1px solid var(--edge);
        border-radius:18px;
        box-shadow:var(--shadow);
        overflow:hidden;
        backdrop-filter:var(--backdrop);
        transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease;
      }
      .card:hover{
        transform:translateY(-2px);
        border-color:rgba(255,255,255,.35);
        box-shadow:0 12px 36px rgba(0,0,0,.45);
      }
      .card-body{ padding:18px 18px 20px; }
      .card h3{ margin:0 0 6px; font-size:20px; letter-spacing:.3px; }
      .schedule{ display:inline-flex; align-items:center; gap:8px; font-size:14px; color:var(--muted); }
      .dot{ width:8px; height:8px; border-radius:50%; background:var(--accent); box-shadow:0 0 12px var(--accent); }
      .blurb{ margin:12px 0 0; color:#f4f7ff; opacity:.92; }

      .spacer{ height:28px; }

      @media (max-width:380px){ .card-body{ padding:16px; } }
    </style>
  </head>
  <body>
    <div class="bg-overlay" aria-hidden="true"></div>

    <div class="wrap">
      <Header />

      <main>
        <header class="hero container">
          <h1 class="title">{SITE_TITLE}</h1>
          <p class="tagline">{SITE_DESCRIPTION}</p>
        </header>

        <section class="container" aria-labelledby="active-campaigns">
          <div class="section-head">
            <h2 id="active-campaigns">Active Campaigns</h2>
            <p class="hint">Schedules and quick summaries</p>
          </div>

          <div class="grid">
            {campaigns.map(c => (
              <article class="card" id={c.id}>
                <div class="card-body">
                  <h3>{c.title}</h3>
                  <div class="schedule" aria-label="schedule">
                    <span class="dot" aria-hidden="true"></span>
                    <span>{c.schedule}</span>
                  </div>
                  <p class="blurb">{c.blurb}</p>
                </div>
              </article>
            ))}
          </div>

          <div class="spacer"></div>
        </section>
      </main>

      <Footer />
    </div>
  </body>
</html>
